<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <title>OnTop Servers</title>
</head>
<body>
    <nav class="topnav">
        <div class="topnav-right">
        <a class="active" href="index.html">Home
            <i class="fas fa-home"></i>
        </a>
        <a class="navbar-search" href="search.html">Search
            <i class="fas fa-search"></i>
        </a>
        <a class="navbar-servers" href="servers.html">Servers
            <i class="fas fa-server"></i>
        </a>
        <a id="login" style="display: none;" href="https://discord.com/api/oauth2/authorize?client_id=779936671645958174&redirect_uri=http%3A%2F%2F127.0.0.1%3A5500%2Findex.html&response_type=code&scope=identify%20guilds%20email">
            <i class="fab fa-discord"></i>
            Login
        </a>
        <script>
            window.onload = () => {
                const fragment = new URLSearchParams(window.location.hash.slice(1));
    
                if (fragment.has("access_token")) {
                    const accessToken = fragment.get("access_token");
                    const tokenType = fragment.get("token_type");
    
                    fetch('https://discord.com/api/users/@me', {
                        headers: {
                            authorization: `${tokenType} ${accessToken}`
                        }
                    })
                        .then(res => res.json())
                        .then(response => {
                            const { username, discriminator } = response;
                            document.getElementById('info').innerText += ` ${username}#${discriminator}`;
                        })
                        .catch(console.error);
    
                }
                else {
                    document.getElementById('login').style.display = 'block';
                }
            }
        </script>
        </div>
         <h2 class="title">
            OnTop Servers
        </h2>
    </nav>
        <div class="welcome">
            <div class="centered-text">
                <div class="welcome-body-inner">
                <h2 class="head">
                    DISCOVER
                    <span class="discord-logo">discord1</span>
                    SERVERS
                </h2>
                <h4 class="body">
                    Find amazing servers to interact with and make friends
                </h4>
                  <div class="search-box">
                      <input class="search-txt" type="text" name="" placeholder="Search...">
                      <a class="search-btn" href="">
                        <i class="fas fa-search"></i>
                      </a>
                  </div>
                </div>
            </div>
        </div>
        <footer id="footer" class="site-footer js-footer" role="contentinfo">
            <div class="site-footer--container">
                <nav class="site-footer--nav">
                    <div class="site-footer--col site-footer--col__visible js-footer-col" data-name="default">
                        <h5 class="-title">
                            <a href="index.html" class="js-gps-track -link-title" data-gps-track="footer.click({ location: 0, link: 15})">OnTop Servers</a>
                        </h5>
                            <ul class="-list js-primary-footer-links">
                                <li class="-item">
                                    <a href="index.html" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Home</a>
                                </li>
                                <li class="-item">
                                    <a href="search.html" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Search</a>
                                </li>
                                <li class="-item">
                                    <a href="servers.html" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Public Discord Servers</a>
                                </li>
                                <li class="-item">
                                    <a href="https://discord.gg/SY5uxzZScX" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Official Discord Server</a>
                                </li>
                                <li class="-item">
                                    <a href="#twitter" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Twitter</a>
                                </li>
                                <li class="-item">
                                    <a href="termsofservice.html" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Terms of Service</a>
                                </li>
                                <li class="-item">
                                    <a href="guidelines.html" class="js-gps-track -link" data-gps-track="footer.click({ location: 0, link: 17})">Guidelines</a>
                                </li>
                            </ul>
                    </div>
                    <div class="copyright"> 
                        <p class="copyright-text">&copy; Copyright 2020 OnTop Servers</p>
                        </div>
                </nav>
            </div>
        </footer>
</body>
</html>
